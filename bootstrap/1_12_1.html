<!DOCTYPE html>
<html lang="ko" data-bs-theme="light" id="html-theme">
<head>
    <meta charset="UTF-8">
    <title>ì‹¤ë¬´í˜• ì»´í¬ë„ŒíŠ¸ ë°ëª¨</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div id="root"></div>

    <script>
        // [ë¶€í’ˆ 1] ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ (í•¨ìˆ˜í˜•)
        const Layout = (content) => `
            <div class="container mt-5">
                <div class="row justify-content-center">
                    <div class="col-md-8">${content}</div>
                </div>
            </div>`;

        // [ë¶€í’ˆ 2] í…Œë§ˆ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ (ê°ì²´í˜•)
        // ë””ìì¸(HTML)ê³¼ ê¸°ëŠ¥(JS)ì„ í•œ ê³³ì— ë¬¶ì–´ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤. (íŒŒì´ì¬ Classì™€ ìœ ì‚¬)
        const ThemeCard = {
            render: (title) => `
                <div class="card shadow-lg">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h3 class="mb-0">${title}</h3>
                        <button class="btn btn-primary" id="theme-toggle">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ ì „í™˜</button>
                    </div>
                    <div class="card-body">
                        <p class="card-text">ì´ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë¶€ëª¨ íƒœê·¸ì˜ í…Œë§ˆê°€ ë°”ë€ë‹ˆë‹¤.</p>
                        <div class="alert alert-warning">ì‹¤ì œ ì‘ë™í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤!</div>
                    </div>
                </div>`,

            // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²° (ê¸°ëŠ¥ ë‹´ë‹¹)
            initLogic: () => {
                const btn = document.getElementById('theme-toggle');
                const html = document.getElementById('html-theme');

                btn.addEventListener('click', () => {
                    const current = html.getAttribute('data-bs-theme');
                    <!--            data-bs-themeëŠ” ìŠ¤ìœ„ì¹˜ ì—­í• ë¡œ light <==> dark ì™”ë‹¤ê°”ë‹¤ í•´ì¤Œ -->
                    const next = current === 'light' ? 'dark' : 'light';

                    // 1. í…Œë§ˆ ì†ì„± ë³€ê²½
                    html.setAttribute('data-bs-theme', next);
                    // 2. ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
                    btn.innerHTML = next === 'light' ? 'ğŸŒ™ ë‹¤í¬ ëª¨ë“œ ì „í™˜' : 'â˜€ï¸ ë¼ì´íŠ¸ ëª¨ë“œ ì „í™˜';
                    // 3. ë²„íŠ¼ ìƒ‰ê¹” ë³€ê²½ (ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ êµì²´)
                    btn.className = next === 'light' ? 'btn btn-primary' : 'btn btn-warning';
                });
            }
        };

        // [ìµœì¢… ì¡°ë¦½ ë° ì‹¤í–‰]
        const root = document.getElementById('root');

        // 1. í™”ë©´ì— ê·¸ë¦¬ê¸° (Render)
        root.innerHTML = Layout(ThemeCard.render("ì‹¤ë¬´í˜• í…Œë§ˆ ì—”ì§„"));

        // 2. ë²„íŠ¼ ê¸°ëŠ¥ ê¹¨ìš°ê¸° (Initialize)
        ThemeCard.initLogic();

    </script>
</body>
</html>